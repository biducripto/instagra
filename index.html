

<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Gerador com √çcones na Imagem</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.4.4/build/qrcode.min.js"></script>
  <style>
    body { font-family: 'Montserrat', sans-serif; padding: 2rem; background: #f2f2f2; }
    .container { background: #fff; padding: 2rem; border-radius: 12px; max-width: 900px; margin: auto; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    h1 { text-align: center; }
    .form-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; }
    input, textarea { width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #ccc; }
    label { font-weight: 600; display: block; margin-bottom: 0.5rem; }
    canvas { display: block; margin: 2rem auto; border-radius: 12px; box-shadow: 0 0 8px rgba(0,0,0,0.1); }
    button { padding: 1rem 2rem; font-size: 1rem; background: #ff6b00; color: white; border: none; border-radius: 8px; margin: 10px; cursor: pointer; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Gerador de Postagem com √çcones na Imagem</h1>
    <div class="form-grid">
      <div><label for="titulo">T√≠tulo</label><input type="text" id="titulo" /></div>
      <div><label for="preco">Pre√ßo</label><input type="text" id="preco" /></div>
      <div><label for="condominio">Condom√≠nio</label><input type="text" id="condominio" /></div>
      <div><label for="areaUtil">√Årea √∫til (m¬≤)</label><input type="text" id="areaUtil" /></div>
      <div><label for="areaTotal">√Årea total (m¬≤)</label><input type="text" id="areaTotal" /></div>
      <div><label for="quartos">Quartos</label><input type="number" id="quartos" /></div>
      <div><label for="suites">Su√≠tes</label><input type="number" id="suites" /></div>
      <div><label for="banheiros">Banheiros</label><input type="number" id="banheiros" /></div>
      <div><label for="vagas">Vagas</label><input type="number" id="vagas" /></div>
      <div><label for="telefone">Telefone</label><input type="text" id="telefone" /></div>
      <div><label for="instagram">Instagram</label><input type="text" id="instagram" /></div>
      <div><label for="site">Site</label><input type="text" id="site" /></div>
      <div><label for="urlImovel">Link p/ QR Code</label><input type="text" id="urlImovel" /></div>
      <div><label for="imagemFundo">Imagem de Fundo</label><input type="file" id="imagemFundo" accept="image/*" /></div>
      <div><label for="transparencia">Transpar√™ncia</label><input type="range" id="transparencia" min="0" max="100" value="60"/></div>
    </div>
    <div style="text-align:center;">
      <button onclick="gerarPostagem()">Gerar Postagem</button>
      <button onclick="baixarImagem()">Baixar</button>
    </div>
    <canvas id="canvas" width="1080" height="1080"></canvas>
  </div>

  <script>
    let imagemFundo = null;
    document.getElementById('imagemFundo').addEventListener('change', e => {
      const reader = new FileReader();
      reader.onload = evt => {
        imagemFundo = new Image();
        imagemFundo.onload = gerarPostagem;
        imagemFundo.src = evt.target.result;
      };
      reader.readAsDataURL(e.target.files[0]);
    });

    function gerarPostagem() {
      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      if (imagemFundo) ctx.drawImage(imagemFundo, 0, 0, canvas.width, canvas.height);
      let opacidade = parseInt(document.getElementById('transparencia').value) / 100;
      ctx.fillStyle = `rgba(0,0,0,${opacidade})`;
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      ctx.fillStyle = '#fff';
      ctx.font = 'bold 48px Montserrat';
      ctx.fillText(document.getElementById('titulo').value, 60, 60);
      ctx.font = '36px Montserrat';
      ctx.fillText(document.getElementById('preco').value, 60, 120);
      ctx.fillText(document.getElementById('condominio').value, 60, 180);
      ctx.font = '28px Montserrat';
      ctx.fillText('üìê ' + document.getElementById('areaUtil').value + ' m¬≤ √∫til', 60, 240);
      ctx.fillText('üìè ' + document.getElementById('areaTotal').value + ' m¬≤ total', 360, 240);
      ctx.fillText('üõè ' + document.getElementById('quartos').value + ' quartos', 60, 290);
      ctx.fillText('üõÅ ' + document.getElementById('suites').value + ' su√≠tes', 360, 290);
      ctx.fillText('üöΩ ' + document.getElementById('banheiros').value + ' banheiros', 60, 340);
      ctx.fillText('üöó ' + document.getElementById('vagas').value + ' vagas', 360, 340);

      ctx.fillText('üìû ' + document.getElementById('telefone').value, 60, canvas.height - 100);
      ctx.fillText('üåê ' + document.getElementById('site').value, 60, canvas.height - 60);
      ctx.fillText('üì∏ @' + document.getElementById('instagram').value, 60, canvas.height - 20);

      const qrUrl = document.getElementById('urlImovel').value;
      if (qrUrl) {
        QRCode.toDataURL(qrUrl, { width: 100 }, function (err, url) {
          const qrImg = new Image();
          qrImg.onload = () => ctx.drawImage(qrImg, canvas.width - 160, 60, 100, 100);
          qrImg.src = url;
        });
      }
    }

    function baixarImagem() {
      const canvas = document.getElementById('canvas');
      const link = document.createElement('a');
      link.download = 'postagem_gerada.png';
      link.href = canvas.toDataURL();
      link.click();
    }
  </script>
</body>
</html>
